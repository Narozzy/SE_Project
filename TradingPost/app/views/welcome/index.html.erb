<script>
    document.addEventListener('DOMContentLoaded', () => {
        const recent_listings = document.getElementsByClassName('recent_listing');
        console.dir(recent_listings)
        for (let listing of recent_listings) {
            listing.addEventListener('mouseenter', (e_info) => {
                let description = document.createElement('p');
                description.innerHTML = '<strong>Info</strong>';
                description.classList.add('dynamic_elements');
                e_info.target.appendChild(description);
            });

            listing.addEventListener('mouseleave', (e_info) => {
                let dynamics = document.getElementsByClassName('dynamic_elements');
                for (let d of dynamics) {
                    d.remove();
                }
            });
            console.log(listing);
        }
    });
</script>

<h1>Welcome#index</h1>

<h2>Recent Listings</h2>
<% result = Listing.last(5).reverse # this is for our most recent listings %>
<% result.each do |item| %>
    <% puts item.title # Logging to console %>
    <div id='recent_listing_<%= item.title.tr(' ','_') %>' class='recent_listing'>
        <%= link_to item.title, listing_path(item) %>
    </div>
<% end %>